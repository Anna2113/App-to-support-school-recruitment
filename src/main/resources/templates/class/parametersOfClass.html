<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" th:href="@{/style.css}"/>

    <meta name="viewport" content="width=device-width, initial-scale=1">

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
            crossorigin="anonymous"></script>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>


    <title>Parametry klasy</title>
</head>
<body>
<div class="container-fluid" id="tytul">
    <header>
        <h1>Parametry klasy</h1>
    </header>
</div>
<div class="container">
    <div class="row">
        <div class="row" style="display: block;margin: auto; margin-top: 25px">
            <div>
                <a class="btn-mybutton" style="color: black" data-toggle="collapse" href="#skillsOfClass"
                   role="button">Umiejętności</a>
                <a class="btn-mybutton" style="color: black" data-toggle="collapse" href="#parametersOfClass"
                   role="button">Parametry</a>
                <form th:action="@{/addParameters}" method="post" class="myFormSkills">
                    <input name="_method" type="hidden" value="PUT"/>
                    <input type="hidden" name="id" th:value="${klasa.id}">
                    <div class="collapse" id="skillsOfClass">
                        <h3 style="text-align: center; margin-top: 25px">Wybierz 4 umiejętności
                            definiujące klasę</h3>
                        <div class="card card-body" style="display: block; margin: auto; width: 100%">
                            <div>
                                <input type="checkbox" name="skills" id="event"
                                       style="margin-left: 300px; display: block; margin: auto"
                                       th:each="skill: ${T(com.example.aplikacja.student.enums.Skills).values()}"
                                       th:text="${skill}"
                                       th:value="${skill}"/>
                            </div>
                        </div>
                    </div>
                    <div class="collapse" id="parametersOfClass" style="width: 90%">
                        <h3 style="margin-top: 50px">Edytuj parametry</h3>
                        <div class="slidecontainer" style="margin-top: 50px;">
                            <h6>Liczba punktów dla ucznia będącego laureatem olimpiady</h6>
                            <input type="range" min="0" max="1" step="0.1" value="0.2" class="slider"
                                   id="numberOfPointsForOlimp"
                                   name="numberOfPointsForOlimp" th:value="${klasa.numberOfPointsForOlimp}">
                            <label for="numberOfPointsForOlimp">Wartość: <span id="lolimp"></span></label>
                            <hr>

                            <h6>Liczba punktów dla ucznia będącego finalistą olimpiady</h6>
                            <input type="range" min="0" max="1" step="0.1" value="0.8" class="slider"
                                   id="numberOfPointsForFinalist"
                                   name="numberOfPointsForFinalist" th:value="${klasa.numberOfPointsForFinalist}">
                            <label for="numberOfPointsForFinalist">Wartość: <span id="lfinal"></span></label>
                            <hr>

                            <h6>Waga punktów za egzamin z matematyki</h6>
                            <input type="text"
                                   name="weightExamMath">
                            <label>Matematyka: <span id="lExamMath"></span></label>
                            <hr>

                            <h6>Waga punktów za egzamin z języka polskiego</h6>
                            <input type="text"
                                   name="weightExamPolish">
                            <label>Język polski: <span id="lExamPolish"></span></label>
                            <hr>

                            <h6>Waga punktów za egzamin z języka angielskiego</h6>
                            <input type="text"
                                   name="weightExamEnglish">
                            <label>Język angielski: <span id="lExamEnglish"></span></label>
                            <hr>

                            <h6>Waga przedmiotów kierunkowych</h6>
                            <input type="range" min="0" max="6.0" step="0.01" value="4.4" class="slider"
                                   id="firstSubject" name="wartosc1"
                                   th:text="${klasa.weightOfGrade.get(0).subject.label}"
                                   th:value="${klasa.weightOfGrade.get(0).wartosc}">
                            <label for="firstSubject">Wartość: <span id="lfirstSubject"></span></label>
                            <input type="hidden" name="id1" th:value="${klasa.weightOfGrade.get(0).id}"/>
                            <hr>

                            <input type="range" min="0" max="6.0" step="0.01" value="2.7" class="slider"
                                   id="secondSubject" name="wartosc2"
                                   th:text="${klasa.weightOfGrade.get(1).subject.label}"
                                   th:value="${klasa.weightOfGrade.get(1).wartosc}">
                            <label for="secondSubject">Wartość: <span id="lsecondSubject"></span></label>
                            <input type="hidden" name="id2" th:value="${klasa.weightOfGrade.get(1).id}"/>
                            <hr>

                            <input type="range" min="0" max="6.0" step="0.01" value="5.9" class="slider"
                                   id="thirdSubject" name="wartosc3"
                                   th:text="${klasa.weightOfGrade.get(2).subject.label}"
                                   th:value="${klasa.weightOfGrade.get(2).wartosc}">
                            <label for="thirdSubject">Wartość: <span id="lthirdSubject"></span></label>
                            <input type="hidden" name="id3" th:value="${klasa.weightOfGrade.get(2).id}"/>
                            <hr>

                            <h6>Wpisz trzy wartości ułamkowe, które posłużą do wyliczenia minimalnej
                                liczby punktów jaką trzeba zdobyć do tej klasy.</h6>
                            <label>1 wartość</label>
                            <td>
                                <input type="text" name="first"
                                       pattern="[0-9]{1}[.]{1}[0-9]{2}">
                            </td>
                            <hr>
                            <label>2 wartość</label>
                            <input type="text" name="second"
                                   pattern="[0-9]{1}[.]{1}[0-9]{2}"/>
                            <hr>
                            <label>3 wartość</label>
                            <input type="text" name="third"
                                   pattern="[0-9]{1}[.]{1}[0-9]{2}"/>

                        </div>
                    </div>

                    <span th:text="${errorClass}" class="emailError"/><br>
                    <span th:text="${updateClass}" class="confirmationOfAdding"/><br>
                    <!--                    <input class="commit btnSt" type="reset" value="Wyczyść formularz">-->

                    <input class="commit btnSt mediaCommit mediaCommitSaveForClass" type="submit"
                           value="Zapisz">

                    <button class="btnSt mediaCommit mediaCommitListForClass" type="button">
                        <a th:href="@{'/listOfClass'}" style="color: black">Lista klas</a>
                    </button>

                    <button class="btnSt mediaCommit">
                        <a th:href="@{'/aboutClass/' + ${klasa.id}}" style="color: black">Wróć do obecnej klasy</a>
                    </button>
                </form>
            </div>
            <script>
                // var slider = document.getElementById("minAvgGrade");
                // var output = document.getElementById("demo");
                var olimp = document.getElementById("numberOfPointsForOlimp");
                var labelOlimp = document.getElementById("lolimp");
                var finalista = document.getElementById("numberOfPointsForFinalist");
                var labelfinal = document.getElementById("lfinal");
                // var exam = document.getElementById("minAmountOfPointsFromExams");
                // var labelExam = document.getElementById("lexams");
                var first = document.getElementById("firstSubject");
                var labelFirst = document.getElementById("lfirstSubject");
                var second = document.getElementById("secondSubject");
                var labelSecond = document.getElementById("lsecondSubject");
                var third = document.getElementById("thirdSubject");
                var labelThird = document.getElementById("lthirdSubject");

                labelOlimp.innerHTML = olimp.value;
                labelfinal.innerHTML = finalista.value;
                labelFirst.innerHTML = first.value;
                labelSecond.innerHTML = second.value;
                labelThird.innerHTML = third.value;

                olimp.oninput = function () {
                    labelOlimp.innerHTML = this.value;
                }

                finalista.oninput = function () {
                    labelfinal.innerHTML = this.value;
                }

                first.oninput = function () {
                    labelFirst.innerHTML = this.value;
                }
                second.oninput = function () {
                    labelSecond.innerHTML = this.value;
                }
                third.oninput = function () {
                    labelThird.innerHTML = this.value;
                }
            </script>
        </div>
    </div>
</div>

</body>
</html>